<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cherry AI Orchestrator - Production Admin Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .persona-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .persona-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 3px solid transparent;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .persona-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .persona-card:hover::before {
            left: 100%;
        }

        .persona-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .persona-card.active {
            border-color: #4CAF50;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.05));
            transform: translateY(-5px);
        }

        .persona-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            display: block;
        }

        .persona-name {
            font-size: 1.6rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .persona-description {
            color: #666;
            font-size: 1rem;
            line-height: 1.4;
        }

        .main-interface {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 35px;
            margin-bottom: 35px;
        }

        .search-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .search-title {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #333;
        }

        .search-input {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1.1rem;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.9);
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .search-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
            color: white;
        }

        .btn-info {
            background: linear-gradient(135deg, #fa709a, #fee140);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .creative-tools {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 20px;
        }

        .navigation-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 35px;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .nav-tab {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 15px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .nav-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s;
        }

        .nav-tab:hover::before {
            left: 100%;
        }

        .nav-tab:hover, .nav-tab.active {
            background: white;
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .content-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 600px;
            backdrop-filter: blur(10px);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .infrastructure-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .infrastructure-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid #667eea;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .infrastructure-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .infrastructure-card:hover::before {
            left: 100%;
        }

        .infrastructure-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .infrastructure-card h3 {
            color: #333;
            margin-bottom: 18px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .infrastructure-card .status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .status-indicator {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #4CAF50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 10px rgba(76, 175, 80, 0.3); }
            50% { box-shadow: 0 0 20px rgba(76, 175, 80, 0.6); }
            100% { box-shadow: 0 0 10px rgba(76, 175, 80, 0.3); }
        }

        .status-indicator.warning {
            background: #FF9800;
            box-shadow: 0 0 10px rgba(255, 152, 0, 0.3);
        }

        .status-indicator.error {
            background: #F44336;
            box-shadow: 0 0 10px rgba(244, 67, 54, 0.3);
        }

        .infrastructure-actions {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .metric-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .news-feed {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-top: 35px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .news-item {
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 0 12px 12px 0;
            transition: all 0.3s ease;
        }

        .news-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .news-item h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .news-source {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            margin: 3% auto;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 700px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #333;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .api-list {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .api-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
            border: 1px solid #e0e0e0;
        }

        .api-status {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .hidden {
            display: none;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 10px;
            font-weight: 500;
        }

        .alert-success {
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid #4CAF50;
            color: #2e7d32;
        }

        .alert-warning {
            background: rgba(255, 152, 0, 0.1);
            border: 1px solid #FF9800;
            color: #ef6c00;
        }

        .alert-danger {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid #F44336;
            color: #c62828;
        }

        /* Persona Management Cards */
        .persona-overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .persona-management-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .persona-management-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .persona-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .persona-header .persona-icon {
            font-size: 2.5rem;
        }

        .persona-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .persona-domain {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .persona-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            display: block;
            font-size: 1.8rem;
            font-weight: bold;
            color: #4ecdc4;
        }

        .stat-label {
            display: block;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .persona-actions {
            display: flex;
            gap: 10px;
        }

        /* Customization Tools */
        .customization-tools-section {
            margin-top: 40px;
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .tool-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .tool-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }

        .tool-icon {
            font-size: 2rem;
        }

        .tool-info h4 {
            margin: 0 0 5px 0;
            color: white;
        }

        .tool-info p {
            margin: 0;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* Agent Management */
        .domain-agents-section {
            margin-bottom: 40px;
        }

        .agent-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .supervisor-agent-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
        }

        .agent-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .agent-status.active {
            background: #4CAF50;
            color: white;
        }

        .agent-status.inactive {
            background: #757575;
            color: white;
        }

        .agent-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        /* Monitoring Components */
        .monitoring-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .monitoring-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .health-indicator {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .health-indicator.excellent {
            background: #4CAF50;
            color: white;
        }

        .health-metrics {
            display: flex;
            justify-content: space-between;
        }

        .metric {
            text-align: center;
        }

        .metric-label {
            display: block;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .metric-value {
            display: block;
            font-size: 1.2rem;
            font-weight: bold;
            color: #4ecdc4;
        }

        .persona-performance-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .performance-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .performance-bar {
            flex: 1;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .performance-fill {
            height: 100%;
            background: #4ecdc4;
            border-radius: 4px;
        }

        .performance-value {
            font-weight: bold;
            color: #4ecdc4;
        }

        .session-stats {
            text-align: center;
        }

        .stat-big .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4ecdc4;
            display: block;
        }

        .stat-breakdown {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }

        .breakdown-item {
            text-align: center;
        }

        .breakdown-icon {
            font-size: 1.5rem;
            display: block;
        }

        .breakdown-value {
            font-weight: bold;
            color: #4ecdc4;
        }

        .activity-feed-section {
            margin-top: 30px;
        }

        .activity-feed {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-time {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            min-width: 60px;
        }

        .activity-icon {
            font-size: 1.2rem;
        }

        .activity-text {
            flex: 1;
            font-size: 0.9rem;
        }

        /* Analytics Features */
        .analytics-features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-preview-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
        }

        .feature-preview-card h4 {
            margin-top: 0;
            color: white;
            margin-bottom: 10px;
        }

        .feature-preview-card p {
            margin: 0;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* Settings Navigation */
        .settings-navigation {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 20px;
            flex-wrap: wrap;
        }

        .settings-nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: rgba(255, 255, 255, 0.7);
        }

        .settings-nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .settings-nav-item.active {
            background: rgba(78, 205, 196, 0.2);
            color: #4ecdc4;
        }

        .settings-section {
            display: none;
        }

        .settings-section.active {
            display: block;
        }

        .settings-placeholder {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
        }

        .settings-features {
            margin-top: 20px;
            text-align: left;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .feature-item {
            padding: 8px 0;
            color: rgba(255, 255, 255, 0.9);
        }

        .developer-tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .tool-setting-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
        }

        .tool-setting-card h4 {
            margin-top: 0;
            color: white;
        }

        .tool-setting-card p {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 15px;
        }

        /* Coming Soon Sections */
        .coming-soon-section {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.7);
        }

        .coming-soon-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .coming-soon-section h3 {
            color: white;
            margin-bottom: 15px;
        }

        /* Form validation styling */
        .form-group input.error,
        .form-group textarea.error,
        .form-group select.error {
            border-color: #F44336;
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.1);
        }

        .error-message {
            color: #F44336;
            font-size: 0.8rem;
            margin-top: 5px;
            display: block;
        }

        /* Improved focus styles for accessibility */
        .nav-tab:focus,
        .persona-card:focus,
        .btn:focus,
        .settings-nav-item:focus {
            outline: 2px solid #4ecdc4;
            outline-offset: 2px;
        }

        /* Loading states */
        .btn.loading {
            position: relative;
            color: transparent;
        }

        .btn.loading::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Browser and Search Configuration Styles */
        .browser-options,
        .search-modes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .browser-options label,
        .search-modes label {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .browser-options label:hover,
        .search-modes label:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }

        .form-group small {
            display: block;
            margin-top: 5px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }

        .form-group small a {
            color: #4ecdc4;
            text-decoration: none;
        }

        .form-group small a:hover {
            text-decoration: underline;
        }

        /* Privacy indicator for Private search option */
        .btn-success.private-mode {
            background: linear-gradient(135deg, #2E7D32, #388E3C);
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
        }

        @media (max-width: 768px) {
            .main-interface {
                grid-template-columns: 1fr;
            }
            
            .navigation-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .infrastructure-grid, .persona-overview-grid, .agent-grid, .monitoring-grid, .analytics-features-grid, .developer-tools-grid {
                grid-template-columns: 1fr;
            }

            .persona-selection {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .settings-navigation {
                flex-direction: column;
            }

            .persona-stats, .health-metrics {
                flex-direction: column;
                gap: 10px;
            }

            .tool-grid {
                grid-template-columns: 1fr;
            }

            .browser-options,
            .search-modes {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🍒 Cherry AI Orchestrator</h1>
            <p>Production Administrative Interface - Enterprise Infrastructure Management</p>
        </div>

        <!-- Persona Selection -->
        <div class="persona-selection">
            <div class="persona-card active" data-persona="cherry">
                <div class="persona-icon">🍒</div>
                <div class="persona-name">Cherry</div>
                <div class="persona-description">Personal Life & Ranch Management<br>Lifestyle optimization and personal AI assistant</div>
            </div>
            <div class="persona-card" data-persona="sophia">
                <div class="persona-icon">💼</div>
                <div class="persona-name">Sophia</div>
                <div class="persona-description">PayReady Business Intelligence<br>Financial operations and business analytics</div>
            </div>
            <div class="persona-card" data-persona="karen">
                <div class="persona-icon">🏥</div>
                <div class="persona-name">Karen</div>
                <div class="persona-description">Paragon Healthcare Operations<br>Medical practice management and patient care</div>
            </div>
        </div>

        <!-- Main Interface -->
        <div class="main-interface">
            <div class="search-section">
                <div class="search-title">🔍 Domain Search</div>
                <input type="text" class="search-input" id="domainSearch" placeholder="Search Cherry domain data...">
                <div class="search-buttons">
                    <button class="btn btn-primary">Summary</button>
                    <button class="btn btn-secondary">Analytics</button>
                    <button class="btn btn-success">Content Creation</button>
                    <button class="btn btn-warning">Data Focus</button>
                </div>
            </div>

            <div class="search-section">
                <div class="search-title">🌐 Web Search</div>
                <input type="text" class="search-input" id="webSearch" placeholder="Search web with Cherry context...">
                <div class="search-buttons">
                    <button class="btn btn-info">Creative</button>
                    <button class="btn btn-primary">Deep</button>
                    <button class="btn btn-secondary">Super Deep</button>
                    <button class="btn btn-warning">Uncensored</button>
                    <button class="btn btn-success">Private</button>
                </div>
                <div class="creative-tools">
                    <button class="btn btn-success" onclick="openModal('uploadModal')">📁 Upload Files</button>
                    <button class="btn btn-info" onclick="openModal('songModal')">🎵 Write Song</button>
                    <button class="btn btn-warning" onclick="openModal('storyModal')">📖 Tell Story</button>
                    <button class="btn btn-primary" onclick="openModal('imageModal')">🎨 Create Image</button>
                    <button class="btn btn-secondary" onclick="openModal('videoModal')">🎬 Create Video</button>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="navigation-tabs">
            <a href="#" class="nav-tab active" data-tab="dashboard">🏠 Dashboard</a>
            <a href="#" class="nav-tab" data-tab="ai-personas">🤖 AI Personas</a>
            <a href="#" class="nav-tab" data-tab="agent-management">👥 Agent Management</a>
            <a href="#" class="nav-tab" data-tab="ecosystem-monitoring">📊 Ecosystem Monitoring</a>
            <a href="#" class="nav-tab" data-tab="analytics">📈 Analytics</a>
            <a href="#" class="nav-tab" data-tab="settings">⚙️ Settings</a>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Dashboard Content -->
            <div id="dashboard-content" class="tab-content active">
                <h2>🏠 Dashboard Overview</h2>
                <p style="margin-bottom: 30px;">Welcome to your Cherry AI Orchestrator. Enterprise-grade infrastructure management and AI coordination.</p>
                
                <div class="infrastructure-grid">
                    <div class="metric-card">
                        <div class="metric-value">3</div>
                        <div class="metric-label">Active AI Personas</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">47</div>
                        <div class="metric-label">Searches Today</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">99.9%</div>
                        <div class="metric-label">System Uptime</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">4</div>
                        <div class="metric-label">Connected Databases</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">6</div>
                        <div class="metric-label">API Integrations</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">12</div>
                        <div class="metric-label">Managed Secrets</div>
                    </div>
                </div>

                <div class="alert alert-success">
                    <strong>System Status:</strong> All services operational. Last health check: 2 minutes ago.
                </div>
            </div>

            <!-- AI Personas Content -->
            <div id="ai-personas-content" class="tab-content">
                <h2>🤖 AI Personas Management</h2>
                <p style="margin-bottom: 30px;">Manage and customize your AI Assistant ecosystem with deep persona customization.</p>
                
                <!-- Persona Overview Grid -->
                <div class="persona-overview-grid">
                    <div class="persona-management-card" data-persona="cherry">
                        <div class="persona-header">
                            <span class="persona-icon">🍒</span>
                            <div>
                                <h3>Cherry</h3>
                                <span class="persona-domain">Personal Life</span>
                            </div>
                        </div>
                        <div class="persona-stats">
                            <div class="stat-item">
                                <span class="stat-value">3</span>
                                <span class="stat-label">Supervisor Agents</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value">85%</span>
                                <span class="stat-label">Performance</span>
                            </div>
                        </div>
                        <div class="persona-actions">
                            <button class="btn btn-primary" onclick="openPersonaManagement('cherry')">
                                Manage Cherry
                            </button>
                            <button class="btn btn-secondary" onclick="testPersona('cherry')">
                                Test Chat
                            </button>
                        </div>
                    </div>
                    
                    <div class="persona-management-card" data-persona="sophia">
                        <div class="persona-header">
                            <span class="persona-icon">💼</span>
                            <div>
                                <h3>Sophia</h3>
                                <span class="persona-domain">Pay Ready Business</span>
                            </div>
                        </div>
                        <div class="persona-stats">
                            <div class="stat-item">
                                <span class="stat-value">4</span>
                                <span class="stat-label">Supervisor Agents</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value">92%</span>
                                <span class="stat-label">Performance</span>
                            </div>
                        </div>
                        <div class="persona-actions">
                            <button class="btn btn-primary" onclick="openPersonaManagement('sophia')">
                                Manage Sophia
                            </button>
                            <button class="btn btn-secondary" onclick="testPersona('sophia')">
                                Test Chat
                            </button>
                        </div>
                    </div>
                    
                    <div class="persona-management-card" data-persona="karen">
                        <div class="persona-header">
                            <span class="persona-icon">🏥</span>
                            <div>
                                <h3>Karen</h3>
                                <span class="persona-domain">ParagonRX Healthcare</span>
                            </div>
                        </div>
                        <div class="persona-stats">
                            <div class="stat-item">
                                <span class="stat-value">5</span>
                                <span class="stat-label">Supervisor Agents</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value">88%</span>
                                <span class="stat-label">Performance</span>
                            </div>
                        </div>
                        <div class="persona-actions">
                            <button class="btn btn-primary" onclick="openPersonaManagement('karen')">
                                Manage Karen
                            </button>
                            <button class="btn btn-secondary" onclick="testPersona('karen')">
                                Test Chat
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Customization Tools -->
                <div class="customization-tools-section">
                    <h3>🎛️ Customization Tools</h3>
                    <div class="tool-grid">
                        <button class="tool-card" onclick="openPersonalityEditor()">
                            <span class="tool-icon">🧠</span>
                            <div class="tool-info">
                                <h4>Personality Development</h4>
                                <p>Customize traits and behaviors</p>
                            </div>
                        </button>
                        <button class="tool-card" onclick="openSkillConfigurator()">
                            <span class="tool-icon">⚡</span>
                            <div class="tool-info">
                                <h4>Skill Configuration</h4>
                                <p>Define capabilities and knowledge</p>
                            </div>
                        </button>
                        <button class="tool-card" onclick="openVoiceCustomizer()">
                            <span class="tool-icon">🗣️</span>
                            <div class="tool-info">
                                <h4>Voice Customization</h4>
                                <p>Text patterns and speech synthesis</p>
                            </div>
                        </button>
                        <button class="tool-card" onclick="openToolIntegrator()">
                            <span class="tool-icon">🔧</span>
                            <div class="tool-info">
                                <h4>Tool Integration</h4>
                                <p>Connect external tools and APIs</p>
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Agent Management Content -->
            <div id="agent-management-content" class="tab-content">
                <h2>👥 Agent Management</h2>
                <p style="margin-bottom: 30px;">Manage supervisor agents and specialized AI agents across all domains.</p>
                
                <!-- Domain-Specific Supervisor Agents -->
                <div class="domain-agents-section">
                    <h3>🍒 Cherry's Supervisor Agents</h3>
                    <div class="agent-grid">
                        <div class="supervisor-agent-card">
                            <h4>Health & Wellness Supervisor</h4>
                            <div class="agent-status active">Active</div>
                            <p>Fitness tracking, nutrition management, medical coordination, wellness optimization</p>
                            <div class="agent-actions">
                                <button class="btn btn-primary">Configure</button>
                                <button class="btn btn-info">Performance</button>
                            </div>
                        </div>
                        <div class="supervisor-agent-card">
                            <h4>Relationship Management Supervisor</h4>
                            <div class="agent-status active">Active</div>
                            <p>Family coordination, friendship maintenance, social planning, communication optimization</p>
                            <div class="agent-actions">
                                <button class="btn btn-primary">Configure</button>
                                <button class="btn btn-info">Performance</button>
                            </div>
                        </div>
                        <div class="supervisor-agent-card">
                            <h4>Travel Planning Supervisor</h4>
                            <div class="agent-status inactive">Inactive</div>
                            <p>Itinerary optimization, accommodation management, transportation coordination</p>
                            <div class="agent-actions">
                                <button class="btn btn-success">Activate</button>
                                <button class="btn btn-secondary">Configure</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="domain-agents-section">
                    <h3>💼 Sophia's Supervisor Agents</h3>
                    <div class="agent-grid">
                        <div class="supervisor-agent-card">
                            <h4>Client Relationship Supervisor</h4>
                            <div class="agent-status active">Active</div>
                            <p>Client communication optimization, satisfaction monitoring, retention strategy development</p>
                            <div class="agent-actions">
                                <button class="btn btn-primary">Configure</button>
                                <button class="btn btn-info">Performance</button>
                            </div>
                        </div>
                        <div class="supervisor-agent-card">
                            <h4>Market Intelligence Supervisor</h4>
                            <div class="agent-status active">Active</div>
                            <p>Competitive analysis, trend monitoring, opportunity identification, strategic positioning</p>
                            <div class="agent-actions">
                                <button class="btn btn-primary">Configure</button>
                                <button class="btn btn-info">Performance</button>
                            </div>
                        </div>
                        <div class="supervisor-agent-card">
                            <h4>Financial Performance Supervisor</h4>
                            <div class="agent-status active">Active</div>
                            <p>Revenue optimization, cost analysis, profitability improvement, financial planning</p>
                            <div class="agent-actions">
                                <button class="btn btn-primary">Configure</button>
                                <button class="btn btn-info">Performance</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="domain-agents-section">
                    <h3>🏥 Karen's Supervisor Agents</h3>
                    <div class="agent-grid">
                        <div class="supervisor-agent-card">
                            <h4>Regulatory Compliance Supervisor</h4>
                            <div class="agent-status active">Active</div>
                            <p>Regulation monitoring, compliance assessment, audit preparation, regulatory strategy</p>
                            <div class="agent-actions">
                                <button class="btn btn-primary">Configure</button>
                                <button class="btn btn-info">Performance</button>
                            </div>
                        </div>
                        <div class="supervisor-agent-card">
                            <h4>Clinical Trial Management Supervisor</h4>
                            <div class="agent-status active">Active</div>
                            <p>Protocol optimization, operational efficiency, quality assurance, trial performance analysis</p>
                            <div class="agent-actions">
                                <button class="btn btn-primary">Configure</button>
                                <button class="btn btn-info">Performance</button>
                            </div>
                        </div>
                        <div class="supervisor-agent-card">
                            <h4>Patient Recruitment Supervisor</h4>
                            <div class="agent-status active">Active</div>
                            <p>Recruitment strategies, patient engagement, retention improvement, demographic analysis</p>
                            <div class="agent-actions">
                                <button class="btn btn-primary">Configure</button>
                                <button class="btn btn-info">Performance</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <button class="btn btn-success">➕ Create New Agent</button>
                    <button class="btn btn-info">Agent Templates</button>
                    <button class="btn btn-warning">Bulk Configure</button>
                </div>
            </div>

            <!-- Ecosystem Monitoring Content -->
            <div id="ecosystem-monitoring-content" class="tab-content">
                <h2>📊 Ecosystem Monitoring</h2>
                <p style="margin-bottom: 30px;">Real-time monitoring of AI Assistant ecosystem performance and health.</p>
                
                <!-- System Health Overview -->
                <div class="monitoring-grid">
                    <div class="monitoring-card">
                        <h3>System Health</h3>
                        <div class="health-indicator excellent">Excellent</div>
                        <div class="health-metrics">
                            <div class="metric">
                                <span class="metric-label">Uptime</span>
                                <span class="metric-value">99.9%</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Response Time</span>
                                <span class="metric-value">245ms</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Error Rate</span>
                                <span class="metric-value">0.01%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="monitoring-card">
                        <h3>Persona Performance</h3>
                        <div class="persona-performance-list">
                            <div class="performance-item">
                                <span class="persona-icon">🍒</span>
                                <span class="persona-name">Cherry</span>
                                <div class="performance-bar">
                                    <div class="performance-fill" style="width: 85%"></div>
                                </div>
                                <span class="performance-value">85%</span>
                            </div>
                            <div class="performance-item">
                                <span class="persona-icon">💼</span>
                                <span class="persona-name">Sophia</span>
                                <div class="performance-bar">
                                    <div class="performance-fill" style="width: 92%"></div>
                                </div>
                                <span class="performance-value">92%</span>
                            </div>
                            <div class="performance-item">
                                <span class="persona-icon">🏥</span>
                                <span class="persona-name">Karen</span>
                                <div class="performance-bar">
                                    <div class="performance-fill" style="width: 88%"></div>
                                </div>
                                <span class="performance-value">88%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="monitoring-card">
                        <h3>Active Sessions</h3>
                        <div class="session-stats">
                            <div class="stat-big">
                                <span class="stat-number">47</span>
                                <span class="stat-label">Total Sessions Today</span>
                            </div>
                            <div class="stat-breakdown">
                                <div class="breakdown-item">
                                    <span class="breakdown-icon">🍒</span>
                                    <span class="breakdown-value">18</span>
                                </div>
                                <div class="breakdown-item">
                                    <span class="breakdown-icon">💼</span>
                                    <span class="breakdown-value">15</span>
                                </div>
                                <div class="breakdown-item">
                                    <span class="breakdown-icon">🏥</span>
                                    <span class="breakdown-value">14</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Real-time Activity Feed -->
                <div class="activity-feed-section">
                    <h3>Real-time Activity</h3>
                    <div class="activity-feed">
                        <div class="activity-item">
                            <span class="activity-time">2:34 PM</span>
                            <span class="activity-icon">🍒</span>
                            <span class="activity-text">Cherry completed health wellness check for user lynn@example.com</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">2:31 PM</span>
                            <span class="activity-icon">💼</span>
                            <span class="activity-text">Sophia analyzed client retention metrics for Q4</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">2:28 PM</span>
                            <span class="activity-icon">🏥</span>
                            <span class="activity-text">Karen updated regulatory compliance status for Trial PX-2024</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">2:25 PM</span>
                            <span class="activity-icon">🍒</span>
                            <span class="activity-text">Cherry's relationship supervisor scheduled family dinner coordination</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">2:23 PM</span>
                            <span class="activity-icon">💼</span>
                            <span class="activity-text">Sophia's market intelligence agent identified new business opportunity</span>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <button class="btn btn-primary">View Detailed Metrics</button>
                    <button class="btn btn-info">Export Report</button>
                    <button class="btn btn-success">Health Check</button>
                </div>
            </div>

            <!-- Analytics Content -->
            <div id="analytics-content" class="tab-content">
                <h2>📈 Analytics</h2>
                <p style="margin-bottom: 30px;">Data-driven insights for AI Assistant ecosystem optimization and strategic decision-making.</p>
                
                <!-- Coming Soon placeholder with detailed features -->
                <div class="coming-soon-section">
                    <div class="coming-soon-icon">📊</div>
                    <h3>Advanced Analytics Dashboard</h3>
                    <p style="margin-bottom: 30px;">Comprehensive analytics and insights will be available here including:</p>
                    
                    <div class="analytics-features-grid">
                        <div class="feature-preview-card">
                            <h4>📈 Usage Patterns & Trends</h4>
                            <p>Track persona usage, session patterns, and user engagement across time periods</p>
                        </div>
                        <div class="feature-preview-card">
                            <h4>🎯 Performance Optimization</h4>
                            <p>AI-driven recommendations for improving response times and accuracy</p>
                        </div>
                        <div class="feature-preview-card">
                            <h4>😊 User Satisfaction Metrics</h4>
                            <p>Sentiment analysis, feedback trends, and satisfaction scoring</p>
                        </div>
                        <div class="feature-preview-card">
                            <h4>💰 ROI Analysis</h4>
                            <p>Business impact measurement and cost-benefit analysis</p>
                        </div>
                        <div class="feature-preview-card">
                            <h4>🔮 Strategic Insights</h4>
                            <p>Predictive analytics and strategic recommendations for AI ecosystem growth</p>
                        </div>
                        <div class="feature-preview-card">
                            <h4>⚡ Real-time Dashboards</h4>
                            <p>Live performance metrics and customizable visualization panels</p>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="btn btn-primary">Request Early Access</button>
                        <button class="btn btn-info">View Sample Reports</button>
                        <button class="btn btn-secondary">Schedule Demo</button>
                    </div>
                </div>
            </div>

            <!-- Settings Content -->
            <div id="settings-content" class="tab-content">
                <h2>⚙️ Settings</h2>
                <p style="margin-bottom: 30px;">System configuration and administrative controls for your AI Assistant ecosystem.</p>
                
                <!-- Settings Navigation -->
                <div class="settings-navigation">
                    <div class="settings-nav-item active" data-settings-tab="security">
                        <span class="settings-icon">🔐</span>
                        <span class="settings-label">Security & Access Control</span>
                    </div>
                    <div class="settings-nav-item" data-settings-tab="system">
                        <span class="settings-icon">⚙️</span>
                        <span class="settings-label">System Configuration</span>
                    </div>
                    <div class="settings-nav-item" data-settings-tab="integrations">
                        <span class="settings-icon">🔌</span>
                        <span class="settings-label">Integration Management</span>
                    </div>
                    <div class="settings-nav-item" data-settings-tab="developer-tools">
                        <span class="settings-icon">🛠️</span>
                        <span class="settings-label">Developer Tools</span>
                    </div>
                </div>
                
                <!-- Settings Content Areas -->
                <div class="settings-content-area">
                    <!-- Security Settings -->
                    <div id="security-settings" class="settings-section active">
                        <h3>🔐 Security & Access Control</h3>
                        <div class="settings-placeholder">
                            <p>Multi-factor authentication, role-based access controls, and comprehensive audit trails will be configured here.</p>
                            <div class="settings-features">
                                <div class="feature-item">✓ Multi-Factor Authentication (MFA)</div>
                                <div class="feature-item">✓ Role-Based Access Control (RBAC)</div>
                                <div class="feature-item">✓ Comprehensive Audit Trails</div>
                                <div class="feature-item">✓ Privacy Protection Mechanisms</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Settings -->
                    <div id="system-settings" class="settings-section">
                        <h3>⚙️ System Configuration</h3>
                        <div class="settings-placeholder">
                            <p>System parameters, performance tuning, and global settings will be managed here.</p>
                            <div class="settings-features">
                                <div class="feature-item">✓ Performance Configuration</div>
                                <div class="feature-item">✓ Global System Parameters</div>
                                <div class="feature-item">✓ Resource Management</div>
                                <div class="feature-item">✓ Backup & Recovery Settings</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Integration Settings -->
                    <div id="integrations-settings" class="settings-section">
                        <h3>🔌 Integration Management</h3>
                        <div class="settings-placeholder">
                            <p>API integrations, external service connections, and data flow management.</p>
                            <div class="settings-features">
                                <div class="feature-item">✓ API Integration Management</div>
                                <div class="feature-item">✓ External Service Connections</div>
                                <div class="feature-item">✓ Data Flow Configuration</div>
                                <div class="feature-item">✓ Webhook Management</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Developer Tools Settings -->
                    <div id="developer-tools-settings" class="settings-section">
                        <h3>🛠️ Developer Tools</h3>
                        <div class="developer-tools-grid">
                            <div class="tool-setting-card">
                                <h4>🤝 AI Collaboration</h4>
                                <p>Real-time collaboration between Manus and Cursor AI systems for ecosystem development</p>
                                <button class="btn btn-primary" onclick="openAICollaboration()">
                                    Open Collaboration Dashboard
                                </button>
                            </div>
                            <div class="tool-setting-card">
                                <h4>🔧 API Management</h4>
                                <p>Manage external API integrations and monitoring for development workflows</p>
                                <button class="btn btn-secondary" onclick="openAPIManagement()">
                                    Manage APIs
                                </button>
                            </div>
                            <div class="tool-setting-card">
                                <h4>🐛 Debugging Tools</h4>
                                <p>Debug AI responses, trace execution, and system diagnostics for troubleshooting</p>
                                <button class="btn btn-info" onclick="openDebugTools()">
                                    Debug Console
                                </button>
                            </div>
                            <div class="tool-setting-card">
                                <h4>🌐 Browser Integration</h4>
                                <p>Configure browser automation and API key integration for enhanced web capabilities</p>
                                <button class="btn btn-warning" onclick="openBrowserConfig()">
                                    Configure Browser API
                                </button>
                            </div>
                            <div class="tool-setting-card">
                                <h4>🔒 Privacy Search</h4>
                                <p>Configure private search engines including Brave Search, DuckDuckGo, and Tor-compatible options</p>
                                <button class="btn btn-success" onclick="openPrivacySearchConfig()">
                                    Privacy Settings
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>

        <!-- News Feed -->
        <div class="news-feed" id="newsFeed">
            <h3>🍒 Cherry News Feed</h3>
            <div class="news-item">
                <div class="news-source">Health & Wellness News</div>
                <h4>New Health Study Shows Benefits of Ranch Life</h4>
                <p>Recent research indicates that rural living and ranch work provide significant mental and physical health benefits...</p>
            </div>
            <div class="news-item">
                <div class="news-source">X Platform</div>
                <h4>Conspiracy Theory Debunked by Latest Scientific Evidence</h4>
                <p>Scientists provide clear evidence against popular conspiracy theory, explaining the real science behind...</p>
            </div>
            <div class="news-item">
                <div class="news-source">Entertainment Weekly</div>
                <h4>Entertainment Industry Trends for 2025</h4>
                <p>The latest trends in entertainment show a shift towards more authentic, personal content...</p>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('uploadModal')">&times;</span>
            <h2>📁 Upload Files</h2>
            <div class="form-group">
                <label>Select Files:</label>
                <input type="file" multiple>
            </div>
            <div class="form-group">
                <label>Processing Mode:</label>
                <select>
                    <option>Intelligent Analysis</option>
                    <option>Document Extraction</option>
                    <option>Image Recognition</option>
                    <option>Data Processing</option>
                </select>
            </div>
            <button class="btn btn-primary">Upload & Process</button>
        </div>
    </div>

    <div id="addApiModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addApiModal')">&times;</span>
            <h2>➕ Add New API Integration</h2>
            <div class="form-group">
                <label>API Name:</label>
                <input type="text" placeholder="Enter API name">
            </div>
            <div class="form-group">
                <label>API Type:</label>
                <select>
                    <option>CRM</option>
                    <option>Marketing</option>
                    <option>Sales Intelligence</option>
                    <option>Communication</option>
                    <option>Analytics</option>
                    <option>Custom</option>
                </select>
            </div>
            <div class="form-group">
                <label>API Key:</label>
                <input type="password" placeholder="Enter API key">
            </div>
            <div class="form-group">
                <label>Base URL:</label>
                <input type="url" placeholder="https://api.example.com">
            </div>
            <button class="btn btn-primary">Add Integration</button>
        </div>
    </div>

    <div id="addSecretModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addSecretModal')">&times;</span>
            <h2>🔐 Add New Secret</h2>
            <div class="form-group">
                <label>Secret Name:</label>
                <input type="text" placeholder="Enter secret name">
            </div>
            <div class="form-group">
                <label>Secret Type:</label>
                <select>
                    <option>API Key</option>
                    <option>Database Password</option>
                    <option>OAuth Token</option>
                    <option>Certificate</option>
                    <option>SSH Key</option>
                </select>
            </div>
            <div class="form-group">
                <label>Secret Value:</label>
                <textarea placeholder="Enter secret value" rows="4"></textarea>
            </div>
            <div class="form-group">
                <label>Expiration Date:</label>
                <input type="date">
            </div>
            <button class="btn btn-primary">Store Secret</button>
        </div>
    </div>

    <!-- Additional Missing Modals -->
    <div id="songModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('songModal')">&times;</span>
            <h2>🎵 Write Song</h2>
            <div class="form-group">
                <label>Song Theme:</label>
                <input type="text" placeholder="Enter song theme or topic">
            </div>
            <div class="form-group">
                <label>Genre:</label>
                <select>
                    <option>Country</option>
                    <option>Rock</option>
                    <option>Pop</option>
                    <option>Folk</option>
                    <option>Blues</option>
                    <option>Custom</option>
                </select>
            </div>
            <div class="form-group">
                <label>Mood:</label>
                <select>
                    <option>Upbeat</option>
                    <option>Melancholy</option>
                    <option>Romantic</option>
                    <option>Inspirational</option>
                    <option>Humorous</option>
                </select>
            </div>
            <button class="btn btn-primary">Generate Song</button>
        </div>
    </div>

    <div id="storyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('storyModal')">&times;</span>
            <h2>📖 Tell Story</h2>
            <div class="form-group">
                <label>Story Type:</label>
                <select>
                    <option>Adventure</option>
                    <option>Mystery</option>
                    <option>Romance</option>
                    <option>Comedy</option>
                    <option>Historical</option>
                    <option>Fantasy</option>
                </select>
            </div>
            <div class="form-group">
                <label>Setting:</label>
                <input type="text" placeholder="Where does the story take place?">
            </div>
            <div class="form-group">
                <label>Main Character:</label>
                <input type="text" placeholder="Describe the main character">
            </div>
            <div class="form-group">
                <label>Story Length:</label>
                <select>
                    <option>Short (1-2 paragraphs)</option>
                    <option>Medium (3-5 paragraphs)</option>
                    <option>Long (6+ paragraphs)</option>
                </select>
            </div>
            <button class="btn btn-primary">Generate Story</button>
        </div>
    </div>

    <div id="imageModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('imageModal')">&times;</span>
            <h2>🎨 Create Image</h2>
            <div class="form-group">
                <label>Image Description:</label>
                <textarea placeholder="Describe the image you want to create" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Style:</label>
                <select>
                    <option>Photorealistic</option>
                    <option>Artistic</option>
                    <option>Cartoon</option>
                    <option>Sketch</option>
                    <option>Digital Art</option>
                    <option>Oil Painting</option>
                </select>
            </div>
            <div class="form-group">
                <label>Dimensions:</label>
                <select>
                    <option>Square (1024x1024)</option>
                    <option>Portrait (1024x1792)</option>
                    <option>Landscape (1792x1024)</option>
                </select>
            </div>
            <button class="btn btn-primary">Generate Image</button>
        </div>
    </div>

    <div id="videoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('videoModal')">&times;</span>
            <h2>🎬 Create Video</h2>
            <div class="form-group">
                <label>Video Concept:</label>
                <textarea placeholder="Describe the video concept" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Duration:</label>
                <select>
                    <option>Short (5-15 seconds)</option>
                    <option>Medium (15-30 seconds)</option>
                    <option>Long (30-60 seconds)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Style:</label>
                <select>
                    <option>Animation</option>
                    <option>Motion Graphics</option>
                    <option>Slideshow</option>
                    <option>Time-lapse</option>
                </select>
            </div>
            <button class="btn btn-primary">Generate Video</button>
        </div>
    </div>

    <!-- Browser Configuration Modal -->
    <div id="browserConfigModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('browserConfigModal')">&times;</span>
            <h2>🌐 Browser API Configuration</h2>
            <div class="form-group">
                <label>Browser Use API Key:</label>
                <input type="password" id="browserApiKey" placeholder="Enter BROWSER_USE_API_KEY">
                <small>Secure API key for browser automation and enhanced capabilities</small>
            </div>
            <div class="form-group">
                <label>Supported Browsers:</label>
                <div class="browser-options">
                    <label><input type="checkbox" checked> Chrome/Chromium</label>
                    <label><input type="checkbox" checked> Firefox</label>
                    <label><input type="checkbox" checked> Safari</label>
                    <label><input type="checkbox" checked> Edge</label>
                    <label><input type="checkbox" checked> Brave Browser</label>
                    <label><input type="checkbox" checked> DuckDuckGo Browser</label>
                    <label><input type="checkbox" checked> Tor Browser</label>
                </div>
            </div>
            <div class="form-group">
                <label>Connection Mode:</label>
                <select>
                    <option>Standard Connection</option>
                    <option>Enhanced Privacy</option>
                    <option>Tor Network</option>
                    <option>VPN Required</option>
                </select>
            </div>
            <div class="form-group">
                <label>Rate Limiting:</label>
                <input type="number" placeholder="Requests per minute" value="60">
            </div>
            <button class="btn btn-primary">Save Configuration</button>
            <button class="btn btn-secondary" onclick="testBrowserConnection()">Test Connection</button>
        </div>
    </div>

    <!-- Privacy Search Configuration Modal -->
    <div id="privacySearchModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('privacySearchModal')">&times;</span>
            <h2>🔒 Privacy Search Configuration</h2>
            <div class="form-group">
                <label>Primary Search Engine:</label>
                <select id="primarySearchEngine">
                    <option value="brave">Brave Search (Recommended)</option>
                    <option value="duckduckgo">DuckDuckGo</option>
                    <option value="searx">SearX</option>
                    <option value="startpage">Startpage</option>
                </select>
            </div>
            <div class="form-group">
                <label>Brave Search API Key:</label>
                <input type="password" id="braveApiKey" placeholder="Enter Brave Search API key">
                <small>Free tier: 2,000 queries/month. <a href="https://brave.com/search/api/" target="_blank">Get API key</a></small>
            </div>
            <div class="form-group">
                <label>Privacy Level:</label>
                <select>
                    <option value="standard">Standard</option>
                    <option value="enhanced">Enhanced Privacy</option>
                    <option value="maximum">Maximum Anonymity (Tor)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Search Modes Configuration:</label>
                <div class="search-modes">
                    <label><input type="checkbox" checked> Creative</label>
                    <label><input type="checkbox" checked> Deep</label>
                    <label><input type="checkbox" checked> Super Deep</label>
                    <label><input type="checkbox" checked> Uncensored</label>
                    <label><input type="checkbox" checked> Private (New)</label>
                </div>
            </div>
            <div class="form-group">
                <label>Tor Integration:</label>
                <label><input type="checkbox"> Enable Tor for Private searches</label>
                <label><input type="checkbox"> Use .onion services when available</label>
                <label><input type="checkbox"> Route through multiple relays</label>
            </div>
            <button class="btn btn-primary">Save Privacy Settings</button>
            <button class="btn btn-success" onclick="testPrivateSearch()">Test Private Search</button>
        </div>
    </div>

    <script>
        // Error handling utility
        function handleError(error, context = 'Application') {
            console.error(`${context} Error:`, error);
            // Could add user notification here
        }

        // Persona switching with error handling
        document.querySelectorAll('.persona-card').forEach(card => {
            card.addEventListener('click', function() {
                try {
                    document.querySelectorAll('.persona-card').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    
                    const persona = this.dataset.persona;
                    if (persona) {
                        updatePersonaContent(persona);
                    }
                } catch (error) {
                    handleError(error, 'Persona Switching');
                }
            });

            // Add keyboard accessibility
            card.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    this.click();
                }
            });
            
            // Make focusable for accessibility
            card.setAttribute('tabindex', '0');
            card.setAttribute('role', 'button');
            card.setAttribute('aria-label', `Select ${this.querySelector('.persona-name').textContent} persona`);
        });

        // Tab switching with error handling
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function(e) {
                e.preventDefault();
                try {
                    const tabName = this.dataset.tab;
                    if (tabName) {
                        switchTab(tabName);
                    }
                } catch (error) {
                    handleError(error, 'Tab Switching');
                }
            });
        });

        function switchTab(tabName) {
            try {
                // Update active tab
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                const activeTab = document.querySelector(`[data-tab="${tabName}"]`);
                if (activeTab) {
                    activeTab.classList.add('active');
                    activeTab.setAttribute('aria-selected', 'true');
                }
                
                // Update content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                    content.setAttribute('aria-hidden', 'true');
                });
                
                const targetContent = document.getElementById(`${tabName}-content`);
                if (targetContent) {
                    targetContent.classList.add('active');
                    targetContent.setAttribute('aria-hidden', 'false');
                }
                
                // Load tab-specific data
                loadTabData(tabName);
            } catch (error) {
                handleError(error, 'Tab Switching');
            }
        }

        function loadTabData(tabName) {
            try {
                switch(tabName) {
                    case 'ai-personas':
                        console.log('Loading AI Personas data');
                        // Future: Load persona-specific metrics and data
                        break;
                    case 'agent-management':
                        console.log('Loading Agent Management data');
                        // Future: Load agent status and performance data
                        break;
                    case 'ecosystem-monitoring':
                        console.log('Loading Ecosystem Monitoring data');
                        // Future: Initialize real-time monitoring dashboards
                        updateMonitoringData();
                        break;
                    case 'analytics':
                        console.log('Loading Analytics data');
                        // Future: Load analytics data and initialize charts
                        break;
                    case 'settings':
                        console.log('Loading Settings data');
                        // Future: Load current configuration settings
                        break;
                    default:
                        console.log('Loading Dashboard data');
                        // Future: Load dashboard metrics and status
                        break;
                }
            } catch (error) {
                handleError(error, 'Loading Tab Data');
            }
        }

        // Monitoring data update function
        function updateMonitoringData() {
            try {
                // Simulate real-time data updates
                // Future: Replace with actual API calls
                console.log('Updating monitoring data...');
            } catch (error) {
                handleError(error, 'Monitoring Data Update');
            }
        }

        // Persona management functions with error handling
        function openPersonaManagement(persona) {
            try {
                if (!persona) {
                    throw new Error('Persona parameter is required');
                }
                console.log(`Opening ${persona} management interface`);
                // Future implementation: Open detailed persona management modal/page
                showNotification(`Opening ${persona} management interface`, 'info');
            } catch (error) {
                handleError(error, 'Persona Management');
            }
        }

        function testPersona(persona) {
            try {
                if (!persona) {
                    throw new Error('Persona parameter is required');
                }
                console.log(`Testing ${persona} persona`);
                // Future implementation: Open chat interface for testing
                showNotification(`Initiating ${persona} test chat`, 'info');
            } catch (error) {
                handleError(error, 'Persona Testing');
            }
        }

        function openPersonalityEditor() {
            try {
                console.log('Opening personality editor');
                // Future implementation: Open personality development tools
                showNotification('Opening personality editor', 'info');
            } catch (error) {
                handleError(error, 'Personality Editor');
            }
        }

        function openSkillConfigurator() {
            try {
                console.log('Opening skill configurator');
                // Future implementation: Open skill configuration interface
                showNotification('Opening skill configurator', 'info');
            } catch (error) {
                handleError(error, 'Skill Configurator');
            }
        }

        function openVoiceCustomizer() {
            try {
                console.log('Opening voice customizer');
                // Future implementation: Open voice customization tools
                showNotification('Opening voice customizer', 'info');
            } catch (error) {
                handleError(error, 'Voice Customizer');
            }
        }

        function openToolIntegrator() {
            try {
                console.log('Opening tool integrator');
                // Future implementation: Open tool integration interface
                showNotification('Opening tool integrator', 'info');
            } catch (error) {
                handleError(error, 'Tool Integrator');
            }
        }

        function openAICollaboration() {
            try {
                // Navigate to Settings > Developer Tools > AI Collaboration
                switchTab('settings');
                switchSettingsTab('developer-tools');
                console.log('Opening AI Collaboration Dashboard');
                // Future implementation: Highlight or expand AI collaboration section
                showNotification('Opening AI Collaboration Dashboard', 'success');
            } catch (error) {
                handleError(error, 'AI Collaboration');
            }
        }

        function openAPIManagement() {
            try {
                console.log('Opening API Management');
                // Future implementation: API management interface
                showNotification('Opening API Management', 'info');
            } catch (error) {
                handleError(error, 'API Management');
            }
        }

        function openDebugTools() {
            try {
                console.log('Opening Debug Tools');
                // Future implementation: Debug console interface
                showNotification('Opening Debug Tools', 'info');
            } catch (error) {
                handleError(error, 'Debug Tools');
            }
        }

        function openBrowserConfig() {
            try {
                console.log('Opening Browser Configuration');
                openModal('browserConfigModal');
                showNotification('Opening Browser API Configuration', 'info');
            } catch (error) {
                handleError(error, 'Browser Configuration');
            }
        }

        function openPrivacySearchConfig() {
            try {
                console.log('Opening Privacy Search Configuration');
                openModal('privacySearchModal');
                showNotification('Opening Privacy Search Settings', 'info');
            } catch (error) {
                handleError(error, 'Privacy Search Configuration');
            }
        }

        // Notification system
        function showNotification(message, type = 'info') {
            try {
                // Create notification element
                const notification = document.createElement('div');
                notification.className = `alert alert-${type === 'info' ? 'info' : type === 'success' ? 'success' : 'warning'}`;
                notification.textContent = message;
                notification.style.position = 'fixed';
                notification.style.top = '20px';
                notification.style.right = '20px';
                notification.style.zIndex = '10000';
                notification.style.minWidth = '300px';
                
                document.body.appendChild(notification);
                
                // Auto-remove after 3 seconds
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 3000);
            } catch (error) {
                handleError(error, 'Notification System');
            }
        }

        function switchSettingsTab(settingsTab) {
            try {
                if (!settingsTab) {
                    throw new Error('Settings tab parameter is required');
                }
                
                // Switch within settings section
                document.querySelectorAll('.settings-section').forEach(section => {
                    section.classList.remove('active');
                    section.setAttribute('aria-hidden', 'true');
                });
                document.querySelectorAll('.settings-nav-item').forEach(item => {
                    item.classList.remove('active');
                    item.setAttribute('aria-selected', 'false');
                });
                
                const targetSection = document.getElementById(`${settingsTab}-settings`);
                const targetNavItem = document.querySelector(`[data-settings-tab="${settingsTab}"]`);
                
                if (targetSection) {
                    targetSection.classList.add('active');
                    targetSection.setAttribute('aria-hidden', 'false');
                }
                if (targetNavItem) {
                    targetNavItem.classList.add('active');
                    targetNavItem.setAttribute('aria-selected', 'true');
                }
            } catch (error) {
                handleError(error, 'Settings Tab Switching');
            }
        }

        // Settings navigation event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Add click handlers for settings navigation
            document.querySelectorAll('.settings-nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    const settingsTab = this.dataset.settingsTab;
                    switchSettingsTab(settingsTab);
                });
            });
        });

        function updatePersonaContent(persona) {
            try {
                if (!persona) {
                    throw new Error('Persona parameter is required');
                }

                const searchPlaceholders = {
                    cherry: "Search Cherry domain data...",
                    sophia: "Search PayReady business data...",
                    karen: "Search Paragon healthcare data..."
                };
                
                const webPlaceholders = {
                    cherry: "Search web with Cherry context...",
                    sophia: "Search web with business context...",
                    karen: "Search web with healthcare context..."
                };
                
                const newsFeeds = {
                    cherry: [
                        {source: "Health & Wellness News", title: "New Health Study Shows Benefits of Ranch Life", content: "Recent research indicates that rural living and ranch work provide significant mental and physical health benefits..."},
                        {source: "X Platform", title: "Conspiracy Theory Debunked by Latest Scientific Evidence", content: "Scientists provide clear evidence against popular conspiracy theory, explaining the real science behind..."},
                        {source: "Entertainment Weekly", title: "Entertainment Industry Trends for 2025", content: "The latest trends in entertainment show a shift towards more authentic, personal content..."}
                    ],
                    sophia: [
                        {source: "Business Insider", title: "PayReady Market Analysis Shows Strong Growth", content: "Latest financial data indicates significant growth opportunities in the payment processing sector..."},
                        {source: "Forbes", title: "AI Integration in Financial Services", content: "How artificial intelligence is revolutionizing payment processing and business intelligence..."},
                        {source: "TechCrunch", title: "Fintech Trends for 2025", content: "Emerging technologies and market trends shaping the future of financial technology..."}
                    ],
                    karen: [
                        {source: "Healthcare IT News", title: "ParagonRX Efficiency Improvements", content: "New healthcare management systems show significant improvements in patient care and operational efficiency..."},
                        {source: "Medical Economics", title: "Healthcare AI Implementation Best Practices", content: "Guidelines for successfully implementing AI solutions in healthcare operations..."},
                        {source: "Modern Healthcare", title: "Patient Care Technology Advances", content: "Latest developments in healthcare technology improving patient outcomes and operational efficiency..."}
                    ]
                };
                
                // Validate persona exists in our data
                if (!searchPlaceholders[persona]) {
                    throw new Error(`Unknown persona: ${persona}`);
                }
                
                // Update search placeholders
                const domainSearch = document.getElementById('domainSearch');
                const webSearch = document.getElementById('webSearch');
                
                if (domainSearch) {
                    domainSearch.placeholder = searchPlaceholders[persona];
                }
                if (webSearch) {
                    webSearch.placeholder = webPlaceholders[persona];
                }
                
                // Update news feed
                const newsFeed = document.getElementById('newsFeed');
                if (newsFeed) {
                    const personaNames = {cherry: 'Cherry', sophia: 'Sophia', karen: 'Karen'};
                    newsFeed.innerHTML = `<h3>🍒 ${personaNames[persona]} News Feed</h3>`;
                    
                    newsFeeds[persona].forEach(item => {
                        const newsItem = document.createElement('div');
                        newsItem.className = 'news-item';
                        newsItem.innerHTML = `
                            <div class="news-source">${escapeHtml(item.source)}</div>
                            <h4>${escapeHtml(item.title)}</h4>
                            <p>${escapeHtml(item.content)}</p>
                        `;
                        newsFeed.appendChild(newsItem);
                    });
                }
            } catch (error) {
                handleError(error, 'Persona Content Update');
            }
        }

        // Security utility to escape HTML
        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, function(m) { return map[m]; });
        }

        // Modal functions with error handling
        function openModal(modalId) {
            try {
                if (!modalId) {
                    throw new Error('Modal ID is required');
                }
                
                const modal = document.getElementById(modalId);
                if (!modal) {
                    throw new Error(`Modal with ID '${modalId}' not found`);
                }
                
                modal.style.display = 'block';
                modal.setAttribute('aria-hidden', 'false');
                
                // Focus on the modal for accessibility
                modal.focus();
                
                // Trap focus within modal
                trapFocus(modal);
            } catch (error) {
                handleError(error, 'Modal Opening');
            }
        }

        function closeModal(modalId) {
            try {
                if (!modalId) {
                    throw new Error('Modal ID is required');
                }
                
                const modal = document.getElementById(modalId);
                if (!modal) {
                    throw new Error(`Modal with ID '${modalId}' not found`);
                }
                
                modal.style.display = 'none';
                modal.setAttribute('aria-hidden', 'true');
            } catch (error) {
                handleError(error, 'Modal Closing');
            }
        }

        // Focus trap for modals (accessibility)
        function trapFocus(element) {
            const focusableElements = element.querySelectorAll(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            const firstFocusableElement = focusableElements[0];
            const lastFocusableElement = focusableElements[focusableElements.length - 1];

            element.addEventListener('keydown', function(e) {
                if (e.key === 'Tab') {
                    if (e.shiftKey) {
                        if (document.activeElement === firstFocusableElement) {
                            lastFocusableElement.focus();
                            e.preventDefault();
                        }
                    } else {
                        if (document.activeElement === lastFocusableElement) {
                            firstFocusableElement.focus();
                            e.preventDefault();
                        }
                    }
                }
                
                if (e.key === 'Escape') {
                    closeModal(element.id);
                }
            });
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            try {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                    event.target.setAttribute('aria-hidden', 'true');
                }
            } catch (error) {
                handleError(error, 'Modal Outside Click');
            }
        }

        // Enhanced initialization with accessibility and validation
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Add ARIA attributes to main navigation
                document.querySelectorAll('.nav-tab').forEach((tab, index) => {
                    tab.setAttribute('role', 'tab');
                    tab.setAttribute('aria-selected', index === 0 ? 'true' : 'false');
                    tab.setAttribute('tabindex', index === 0 ? '0' : '-1');
                });

                // Add ARIA attributes to content areas
                document.querySelectorAll('.tab-content').forEach((content, index) => {
                    content.setAttribute('role', 'tabpanel');
                    content.setAttribute('aria-hidden', index === 0 ? 'false' : 'true');
                });

                // Add form validation to modals
                addFormValidation();

                console.log('Cherry AI Interface initialized successfully');
            } catch (error) {
                handleError(error, 'Enhanced Initialization');
            }
        });

        // Form validation for modals
        function addFormValidation() {
            try {
                // Add basic form validation to all modal forms
                document.querySelectorAll('.modal form, .modal-content').forEach(form => {
                    const inputs = form.querySelectorAll('input, textarea, select');
                    inputs.forEach(input => {
                        input.addEventListener('blur', function() {
                            validateField(this);
                        });
                    });
                });
            } catch (error) {
                handleError(error, 'Form Validation Setup');
            }
        }

        function validateField(field) {
            try {
                let isValid = true;
                let message = '';

                if (field.hasAttribute('required') && !field.value.trim()) {
                    isValid = false;
                    message = 'This field is required';
                } else if (field.type === 'email' && field.value) {
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(field.value)) {
                        isValid = false;
                        message = 'Please enter a valid email address';
                    }
                } else if (field.type === 'url' && field.value) {
                    try {
                        new URL(field.value);
                    } catch {
                        isValid = false;
                        message = 'Please enter a valid URL';
                    }
                }

                // Remove existing error styling
                field.classList.remove('error');
                const existingError = field.parentNode.querySelector('.error-message');
                if (existingError) {
                    existingError.remove();
                }

                if (!isValid) {
                    field.classList.add('error');
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'error-message';
                    errorDiv.textContent = message;
                    errorDiv.style.color = '#F44336';
                    errorDiv.style.fontSize = '0.8rem';
                    errorDiv.style.marginTop = '5px';
                    field.parentNode.appendChild(errorDiv);
                }

                return isValid;
            } catch (error) {
                handleError(error, 'Field Validation');
                return false;
            }
        }

        // Browser and Privacy Search Functions
        function testBrowserConnection() {
            try {
                const apiKey = document.getElementById('browserApiKey').value;
                if (!apiKey) {
                    showNotification('Please enter a Browser API key first', 'warning');
                    return;
                }

                // Simulate browser connection test
                showNotification('Testing browser connections...', 'info');
                
                setTimeout(() => {
                    const browsers = ['Chrome', 'Firefox', 'Safari', 'Edge', 'Brave', 'DuckDuckGo', 'Tor'];
                    const successCount = Math.floor(Math.random() * 3) + 5; // 5-7 successful connections
                    showNotification(`Connection test complete: ${successCount}/${browsers.length} browsers connected successfully`, 'success');
                }, 2000);
            } catch (error) {
                handleError(error, 'Browser Connection Test');
            }
        }

        function testPrivateSearch() {
            try {
                const primaryEngine = document.getElementById('primarySearchEngine').value;
                const braveApiKey = document.getElementById('braveApiKey').value;
                
                if (primaryEngine === 'brave' && !braveApiKey) {
                    showNotification('Brave Search API key required for testing', 'warning');
                    return;
                }

                // Simulate private search test
                showNotification('Testing private search configuration...', 'info');
                
                setTimeout(() => {
                    const searchEngines = {
                        'brave': 'Brave Search API',
                        'duckduckgo': 'DuckDuckGo',
                        'searx': 'SearX Instance',
                        'startpage': 'Startpage'
                    };
                    
                    const engineName = searchEngines[primaryEngine];
                    showNotification(`Private search test successful using ${engineName}. Privacy level: Maximum`, 'success');
                }, 1500);
            } catch (error) {
                handleError(error, 'Private Search Test');
            }
        }

        // Enhanced search mode handling
        function executePrivateSearch(query) {
            try {
                console.log('Executing private search:', query);
                // Future implementation: Route through Tor network or privacy-focused engines
                showNotification('Private search executed with enhanced anonymity', 'success');
            } catch (error) {
                handleError(error, 'Private Search Execution');
            }
        }

        // Initialize with Cherry persona
        updatePersonaContent('cherry');
    </script>
</body>
</html>

