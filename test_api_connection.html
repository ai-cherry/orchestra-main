<!DOCTYPE html>
<html>
<head>
    <title>API Connection Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test { margin: 10px 0; padding: 10px; border: 1px solid #ddd; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        pre { background: #f4f4f4; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Cherry AI API Connection Test</h1>
    <div id="results"></div>
    
    <script>
        const API_BASE = 'http://150.136.94.139';
        const endpoints = [
            '/api/health',
            '/api/search?q=test',
            '/api/agents',
            '/api/workflows',
            '/api/knowledge',
            '/api/monitoring/metrics'
        ];
        
        async function testEndpoints() {
            const results = document.getElementById('results');
            results.innerHTML = '<h2>Testing API Endpoints...</h2>';
            
            for (const endpoint of endpoints) {
                const div = document.createElement('div');
                div.className = 'test';
                
                try {
                    const response = await fetch(API_BASE + endpoint);
                    const data = await response.json();
                    
                    div.className += ' success';
                    div.innerHTML = `
                        <strong>✅ ${endpoint}</strong><br>
                        Status: ${response.status}<br>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                } catch (error) {
                    div.className += ' error';
                    div.innerHTML = `
                        <strong>❌ ${endpoint}</strong><br>
                        Error: ${error.message}<br>
                        <small>Check browser console for details</small>
                    `;
                    console.error(`Error testing ${endpoint}:`, error);
                }
                
                results.appendChild(div);
            }
        }
        
        // Run tests on load
        testEndpoints();
    </script>
</body>
</html>
