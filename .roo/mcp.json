{
  "mcpServers": {
    "memory": {
      "command": "python",
      "args": [
        "${workspaceFolder}/mcp_server/servers/memory_server.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://redis:6379}",
        "POSTGRES_URL": "postgresql://postgres:postgres@postgres:5432/cherry_ai"
      },
      "alwaysAllow": [
        "context_storage",
        "vector_search",
        "memory_management"
      ]
    },
    "conductor": {
      "command": "python",
      "args": [
        "${workspaceFolder}/mcp_server/servers/conductor_server.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://redis:6379}",
        "API_URL": "http://api:8080"
      },
      "alwaysAllow": [
        "workflow_management",
        "task_coordination",
        "agent_coordination"
      ]
    },
    "tools": {
      "command": "python",
      "args": [
        "${workspaceFolder}/mcp_server/servers/tools_server.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://redis:6379}"
      },
      "alwaysAllow": [
        "tool_discovery",
        "tool_execution",
        "postgres_query",
        "cache_operations"
      ]
    },
    "code-intelligence": {
      "command": "python",
      "args": [
        "${workspaceFolder}/mcp_server/servers/code_intelligence_server.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://redis:6379}"
      },
      "alwaysAllow": [
        "ast_analysis",
        "function_search",
        "complexity_analysis",
        "code_smells"
      ]
    },
    "git-intelligence": {
      "command": "python",
      "args": [
        "${workspaceFolder}/mcp_server/servers/git_intelligence_server.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://redis:6379}"
      },
      "alwaysAllow": [
        "git_history",
        "blame_analysis",
        "hotspot_detection",
        "contributor_stats"
      ]
    }
  },
  "servers": [
    {
      "name": "memory",
      "port": 8003,
      "capabilities": [
        "context_storage",
        "vector_search",
        "memory_management"
      ],
      "description": "Memory and context management with PostgreSQL + Weaviate",
      "priority": 1,
      "health_endpoint": "/health"
    },
    {
      "name": "conductor",
      "port": 8002,
      "capabilities": [
        "workflow_management",
        "task_coordination",
        "agent_coordination"
      ],
      "description": "Agent coordination and workflow management",
      "priority": 1,
      "health_endpoint": "/health"
    },
    {
      "name": "tools",
      "port": 8006,
      "capabilities": [
        "tool_discovery",
        "tool_execution",
        "postgres_query",
        "cache_operations"
      ],
      "description": "Tool registry and execution with PostgreSQL/Redis/Weaviate tools",
      "priority": 2,
      "health_endpoint": "/health"
    },
    {
      "name": "code-intelligence",
      "port": 8007,
      "capabilities": [
        "ast_analysis",
        "function_search",
        "complexity_analysis",
        "code_smells"
      ],
      "description": "Advanced code analysis and intelligence",
      "priority": 2,
      "health_endpoint": "/health"
    },
    {
      "name": "git-intelligence",
      "port": 8008,
      "capabilities": [
        "git_history",
        "blame_analysis",
        "hotspot_detection",
        "contributor_stats"
      ],
      "description": "Git history and change analysis",
      "priority": 3,
      "health_endpoint": "/health"
    }
  ],
  "routing": {
    "code_analysis": "code-intelligence",
    "git_operations": "git-intelligence",
    "context_retrieval": "memory",
    "tool_execution": "tools",
    "workflow_management": "conductor"
  },
  "cache": {
    "ttl": 3600,
    "strategy": "lru"
  },
  "rate_limits": {
    "requests_per_minute": 120
  }
}