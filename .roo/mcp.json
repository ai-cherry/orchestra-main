{
  "mcpServers": {
    "orchestra-unified": {
      "command": "python",
      "args": [
        "${workspaceFolder}/mcp_unified_server.py"
      ],
      "env": {
        "PYTHONPATH": "${workspaceFolder}"
      },
      "alwaysAllow": [
        "register_tool",
        "update_context",
        "get_shared_context",
        "route_task",
        "sync_project_state"
      ]
    },
    "enhanced-memory": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/enhanced_memory_server.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://45.77.87.106:6379}",
        "POSTGRES_URL": "postgresql://postgres@45.77.87.106:5432/cherry_ai",
        "WEAVIATE_URL": "http://localhost:8080"
      },
      "alwaysAllow": [
        "store_memory_batch",
        "search_memories_cached", 
        "optimize_memory_storage",
        "get_memory_statistics",
        "store_memory",
        "search_memories"
      ]
    },
    "code-intelligence": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/code_intelligence_server.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://45.77.87.106:6379}"
      },
      "alwaysAllow": [
        "analyze_file_ast",
        "find_function_usage",
        "analyze_imports",
        "code_complexity_analysis",
        "detect_code_smells"
      ]
    },
    "git-intelligence": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/git_intelligence_server.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://45.77.87.106:6379}"
      },
      "alwaysAllow": [
        "git_recent_changes",
        "git_blame_analysis",
        "git_diff_analysis",
        "git_file_history",
        "git_hotspot_analysis"
      ]
    },
    "infrastructure-manager": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/infrastructure_manager.py"
      ],
      "env": {
        "LAMBDA_API_KEY": "${LAMBDA_API_KEY}",
        "PULUMI_ACCESS_TOKEN": "${PULUMI_ACCESS_TOKEN}"
      },
      "alwaysAllow": [
        "deploy_infrastructure",
        "scale_instance", 
        "restart_services",
        "get_deployment_status"
      ]
    },
    "prompt-management": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/prompt_management.py"
      ],
      "env": {
        "REDIS_URL": "${REDIS_URL:-redis://45.77.87.106:6379}"
      },
      "alwaysAllow": [
        "get_prompt",
        "list_prompts",
        "create_prompt",
        "optimize_prompt"
      ]
    },
    "weaviate-direct": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/weaviate_direct_mcp_server.py"
      ],
      "env": {
        "WEAVIATE_URL": "http://localhost:8080",
        "WEAVIATE_HOST": "localhost",
        "WEAVIATE_PORT": "8080"
      },
      "alwaysAllow": [
        "get_schema",
        "add_object",
        "get_object",
        "delete_object",
        "hybrid_search",
        "raw_graphql_query"
      ]
    },
    "web-scraping": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/web_scraping_mcp_server.py"
      ],
      "env": {
        "ZENROWS_API_KEY": "${ZENROWS_API_KEY}",
        "APIFY_API_KEY": "${APIFY_API_KEY}",
        "OPENAI_API_KEY": "${OPENAI_API_KEY}",
        "REDIS_HOST": "45.77.87.106"
      },
      "alwaysAllow": [
        "web_search",
        "scrape_website",
        "analyze_content",
        "bulk_scrape"
      ]
    },
    "cherry-domain": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/enhanced_cherry_domain_server.py"
      ],
      "env": {
        "POSTGRES_HOST": "45.77.87.106",
        "REDIS_HOST": "45.77.87.106",
        "WEAVIATE_URL": "http://localhost:8080",
        "PINECONE_API_KEY": "${PINECONE_API_KEY}"
      },
      "alwaysAllow": [
        "handle_personal_task",
        "handle_ranch_operation",
        "search_personal_data",
        "process_natural_language_request"
      ]
    },
    "sophia-payready": {
      "command": "python",
      "args": [
        "${workspaceFolder}/legacy/mcp_server/servers/sophia_pay_ready_server.py"
      ],
      "env": {
        "POSTGRES_HOST": "45.77.87.106",
        "REDIS_HOST": "45.77.87.106",
        "WEAVIATE_URL": "http://localhost:8080",
        "PINECONE_API_KEY": "${PINECONE_API_KEY}"
      },
      "alwaysAllow": [
        "handle_large_data_download",
        "handle_zip_file_extraction",
        "search_zip_contents",
        "process_financial_transaction_batch",
        "generate_business_intelligence_report",
        "search_financial_data",
        "process_natural_language_request"
      ]
    }
  },
  "servers": [
    {
      "name": "orchestra-unified",
      "port": 8000,
      "capabilities": ["context_sharing", "task_routing", "tool_coordination", "project_sync"],
      "description": "Unified context and task routing for Cursor, Roo, and Continue",
      "priority": 1
    },
    {
      "name": "enhanced-memory",
      "port": 8001,
      "capabilities": ["memory_management", "context_storage", "vector_search", "intelligent_caching"],
      "description": "Enhanced memory with PostgreSQL + Weaviate + Redis caching",
      "priority": 1
    },
    {
      "name": "code-intelligence", 
      "port": 8007,
      "capabilities": ["ast_analysis", "complexity_analysis", "code_smells", "function_search"],
      "description": "Advanced code analysis and intelligence",
      "priority": 1
    },
    {
      "name": "git-intelligence",
      "port": 8008, 
      "capabilities": ["git_history", "blame_analysis", "hotspot_detection"],
      "description": "Git history and change analysis",
      "priority": 2
    },
    {
      "name": "infrastructure-manager",
      "port": 8009,
      "capabilities": ["deployment", "scaling", "monitoring", "lambda_labs"],
      "description": "Lambda Labs infrastructure management", 
      "priority": 2
    },
    {
      "name": "prompt-management",
      "port": 8010,
      "capabilities": ["prompt_optimization", "template_management"],
      "description": "AI prompt templates and optimization",
      "priority": 3
    },
    {
      "name": "weaviate-direct",
      "port": 8011,
      "capabilities": ["vector_operations", "semantic_search", "schema_management"],
      "description": "Direct Weaviate operations",
      "priority": 2
    },
    {
      "name": "web-scraping", 
      "port": 8012,
      "capabilities": ["web_search", "content_scraping", "content_analysis"],
      "description": "Intelligent web scraping and research",
      "priority": 3
    },
    {
      "name": "cherry-domain",
      "port": 8013,
      "capabilities": ["personal_assistant", "ranch_management", "wellness_tracking"],
      "description": "Cherry personal assistant domain",
      "priority": 2
    },
    {
      "name": "sophia-payready",
      "port": 8014,
      "capabilities": ["financial_analysis", "data_processing", "business_intelligence", "pay_ready_operations"],
      "description": "Sophia Pay Ready financial operations and large data processing",
      "priority": 1
    }
  ],
  "routing": {
    "tool_coordination": "orchestra-unified",
    "context_sharing": "orchestra-unified",
    "task_routing": "orchestra-unified",
    "memory_operations": "enhanced-memory",
    "code_analysis": "code-intelligence", 
    "git_operations": "git-intelligence",
    "infrastructure": "infrastructure-manager",
    "prompts": "prompt-management",
    "vector_search": "weaviate-direct",
    "web_research": "web-scraping",
    "personal_assistant": "cherry-domain",
    "financial_operations": "sophia-payready",
    "data_processing": "sophia-payready",
    "business_intelligence": "sophia-payready"
  },
  "cache": {
    "ttl": 3600,
    "strategy": "lru",
    "intelligent_condensing": true,
    "context_preservation": true
  },
  "rate_limits": {
    "requests_per_minute": 120,
    "burst_limit": 20
  },
  "optimization": {
    "openrouter_integration": true,
    "cost_optimization": true,
    "fallback_models": true,
    "context_condensing": true,
    "single_developer_mode": true,
    "performance_priority": true,
    "reduced_server_count": true
  },
  "single_developer_config": {
    "essential_servers": ["orchestra-unified", "enhanced-memory", "infrastructure-manager"],
    "optional_servers": ["code-intelligence", "weaviate-direct"],
    "disabled_servers": ["web-scraping", "prompt-management", "git-intelligence", "cherry-domain", "sophia-payready"],
    "resource_optimization": true,
    "startup_delay_reduction": true
  }
}